package accounts

type CurrentAccount struct {
	holderName string
	agency     int
	account    int
	amount     float64
}

/* Podemos parametrizar na função a conta que será apontada para saque "(c *CurrentAccount)";
* Desta forma a struct que foi apontada no mótodo pode chamar o método diretamente "account1.withdraw()". */
func (c *CurrentAccount) withdraw(value float64) string {
	containsAmount := value > 0 && value <= c.amount
	if containsAmount {
		c.amount -= value
		fmt.Println("Valor do saque:", value)
		return "Saque efetuado com sucesso!"
	} else {
		return "Saldo insuficiente"
	}
}

func (c *CurrentAccount) deposit(value float64) (string, float64) {
	isPositive := value > 0
	if isPositive {
		c.amount += value
		return "Deposito efetuado com sucesso. Saldo atual:", c.amount
	} else {
		return "Deposito não efetuado. Saldo atual:", c.amount
	}
}

func (c *CurrentAccount) transfer(value float64, receiver *CurrentAccount) string {
	containsAmount := value > 0 && value <= c.amount
	if containsAmount {
		c.amount -= value
		receiver.deposit(value)
		return "Transferência efetuada com sucesso"
	} else {
		return "Transferência não efetuada"
	}
}
